<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>企服盒登录页面</title>
		<link rel="stylesheet" href="css/login.css" />
		<script type="text/javascript" src="js/jquery-1.4.2.js"></script>
		<script type="text/javascript">
			document.addEventListener('plusready', function(){
   			//console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"
   			
   			});
		$(function(){	
			$('.login-ul ul li').click(function(){
				$(this).addClass('hit').siblings().removeClass('hit');
				$('.panes>div:eq('+$(this).index()+')').show().siblings().hide();	
			})
		})
		$(function  () {
			//获取短信验证码
			var validCode=true;
			$(".login-yzm").click (function  () {
				var time=30;
				var code=$(this);
				if (validCode) {
					validCode=false;
					code.addClass("msgs1");
				var t=setInterval(function  () {
					time--;
					code.html(time+"秒");
					if (time==0) {
						clearInterval(t);
					code.html("重新获取");
						validCode=true;
					code.removeClass("msgs1");
		
					}
				},1000)
				}
			})
		})
		</script>
	</head>
	<body>
	<div class="mui-content">
		<div class="login-con">
			<div class="login-top">
				<p>企服盒欢迎你</p>
				<a class="top-a" href="#">取消</a>
			</div>
			<div class="login-ul">
				<ul>
					<li class="hit">账号登录</li>
					<li>短息验证码登录</li>
				</ul>
				<div class="panes">
					<div class="pane" style="display:block;">
						<div class="login-name">
							<p class="in-p">账号</p>
							<input class="na-input" type="tel" name="" id="tel" value="" placeholder="手机号"/>
							<p class="err-txt" style="display: block;"></p>
						</div>
						<div class="login-name">
							<p class="in-p">密码</p>
							<input class="na-input" type="tel" name="" id="password" value="" placeholder="6位以上数字或字母"/>
							<a href="#"><img src="img/login_eye.png" /></a>
							<p class="err-txta" style="display: block;"></p>
						</div>
						<p class="login-wj"><a href="#">忘记密码</a></p>
						<div class="login-btn">
							<input type="button" name="" id="" value="登录" />
						</div>
						<div class="login-dsf">
							<p>
								<span>使用第三方账号登录</span>
							</p>
							<a href="#"><img src="img/login_wx.png" /></a>
						</div>
					</div>
					<div class="pane">
						<div class="login-name">
							<p class="in-pa in-pb">中国&nbsp;&nbsp;&nbsp;+86</p>
							<input class="na-inputa" type="tel" name="" id="tela" value="" placeholder="输入手机号"/>
							<p class="err-txt" style="display: block;"></p>
						</div>
						<div class="login-name">
							<p class="in-pa">短信验证码</p>
							<input class="na-inputb" type="tel" name="" id="" value="" />
							<div class="login-yzm"><a href="#">获取验证码</a></div>
						</div>
						<div class="login-btn" style="margin-bottom: 180px; margin-top: 60px;">
							<input type="button" name="" id="" value="登录" />
						</div>
					</div>
				</div>
				<div class="login-zh">
					<p>没有账号？</p>
					<div class="login-zhsj">
						<a href="#">手机快速注册</a>
					</div>
				</div>
			</div>
		</div>
	</div>
		<script type="text/javascript">
			// 验证手机号
			function isPhoneNo(phone) {
			    var pattern = /^1[34578]\d{9}$/;
			    return pattern.test(phone);
			}
			//验证密码
			function isPassword(password) {
			    var pattern = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;
			    return pattern.test(password);
			}
			//验证密码
			$('#password').blur(function(){
				//先验证密码是否正确	
				if($.trim($('#password').val()).length == 0) {
				    $('#password').siblings(".err-txta").css("display","block");
				    $('#password').siblings(".err-txta").html("密码为6-20为数字、字母组合");
				    $('#password').focus();
				}else if(isPassword($("#password").val()) == false) {
				    $('#password').siblings(".err-txta").css("display","block");
				    $('#password').siblings(".err-txta").html("密码为6-20为数字、字母组合");
				    $('#password').focus();
				}else if(isPassword($("#password").val()) == true){
				    $('#password').siblings(".err-txta").css("display","none");
				}
			})
			//验证手机号
			$('#tel').blur(function(){
				//先验证手机号是否正确
				
				if($.trim($('#tel').val()).length == 0) {
				    $('#tel').siblings(".err-txt").css("display","block");
				    $('#tel').siblings(".err-txt").html("手机号不能为空！");
				    $('#tel').focus();
				}else if(isPhoneNo($("#tel").val()) == false) {
				    $('#tel').siblings(".err-txt").css("display","block");
				    $('#tel').siblings(".err-txt").html("手机号格式不正确，请重新输入！");
				    $('#tel').focus();
				}else if(isPhoneNo($("#tel").val()) == true){
				    $('#tel').siblings(".err-txt").css("display","none");
				}
			})
			//验证手机号
			$('#tela').blur(function(){
				//先验证手机号是否正确
				
				if($.trim($('#tela').val()).length == 0) {
				    $('#tela').siblings(".err-txt").css("display","block");
				    $('#tela').siblings(".err-txt").html("手机号不能为空！");
				    $('#tela').focus();
				}else if(isPhoneNo($("#tela").val()) == false) {
				    $('#tela').siblings(".err-txt").css("display","block");
				    $('#tela').siblings(".err-txt").html("手机号格式不正确，请重新输入！");
				    $('#tela').focus();
				}else if(isPhoneNo($("#tel").val()) == true){
				    $('#tela').siblings(".err-txt").css("display","none");
				}
			})
		</script>
	</body>
</html>
