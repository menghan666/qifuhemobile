<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>修改密码</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/reset.css" rel="stylesheet" />
		<link href="css/personal.css" rel="stylesheet" />
	</head>
	<body>
		<!--顶部标题-->
		<div class="back_top nav_top">
			<a href="#" class="float_lf clearfix">
				<img class="float_lf" src="img/login_fh.png" alt="" />
				<span class="float_lf">返回</span>
			</a>
			<p class="">修改密码</p>
		</div>
		<form class="yanzheng_tel" onsubmit="return subs_btn();">
			<div class="old_tel clearfix">
				<p class="float_lf color-333">原密码</p>
				<p class="float_lf"><input type="password" name="" id="old_pwd" value="" placeholder="请输入原始密码" /></p>
			</div>
			<div class="old_tel clearfix">
				<p class="float_lf color-333">新密码</p>
				<p class="float_lf"><input type="password" name="" id="new_pwd" value="" placeholder="6位以上数字或字母" /></p>
			</div>
			<div class="old_tel clearfix">
				<p class="float_lf color-333">确认密码</p>
				<p class="float_lf"><input type="password" name="" id="sure_pwd" value="" placeholder="重复新密码" /></p>
			</div>
			<button type="submit" class="bd_tel">保存</button>
		</form>

		<script src="js/jquery-1.4.2.js"></script>
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init();

			$(document).ready(function() {
				var H = $(document).height() - 44;
				$(".yanzheng_tel").height(H);
			});
			// 验证密码格式
			function isPassWord(password) {
			    var pwd = /.{6,}/;
			    return pwd.test(password);
			}
			//验证原始密码
			function old_pwds(){
				if($.trim($('#old_pwd').val()).length == 0) {
					mui.toast('原始密码不能为空！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#old_pwd').focus();
					return false;
			    }else if(isPassWord($('#old_pwd').val()) == false){
			    	mui.toast('原始密码不正确！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#old_pwd').focus();
			    }else if(isPassWord($('#old_pwd').val())== true){
			       return true;
			    }
			}
			//验证新密码
			function new_pwds(){
				if($.trim($('#new_pwd').val()).length == 0) {
					mui.toast('新密码不能为空！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#new_pwd').focus();
					return false;
			    }else if(isPassWord($('#new_pwd').val()) == false){
			    	mui.toast('新密码不正确！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#new_pwd').focus();
					return false;
			    }else if(isPassWord($('#new_pwd').val())== true){
			       return true;
			    }
			}
			//确认密码验证
			function sure_pwds(){
				if($.trim($('#sure_pwd').val()).length == 0) {
					mui.toast('确认密码不能为空！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#sure_pwd').focus();
					return false;
			    }else if($('#sure_pwd').val() !== $('#new_pwd').val()){
			       mui.toast('两次输入密码不一致！', {
						duration: '1500ms',
						type: 'div'
					});
					$('#sure_pwd').focus();
					return false;
			    }else if(isPassWord($('#sure_pwd').val())== true){
			       return true;
			    }
			}
			//提交表单验证
			function subs_btn(){
				if(!old_pwds()){
					return false;
				}else if(!new_pwds()){
					return false;
				}else if(!sure_pwds()){
					return false;
				}
			}
		</script>
	</body>
</html>